<template>
    <page-header title="New game"></page-header>

    <form submit.delegate="create()">

        <div class="form-group row ">
            <label class="col-sm-2 col-form-label" for="invited-player-id">Invited player</label>

            <div class="col-sm-10 mb-3">
                <input type="text" class="form-control" id="invited-player-id" aria-describedby="invited-player-id-help"
                    placeholder="Your friend's Id" value.bind="invitedPlayerId" />
                <small id="invited-player-id-help" class="form-text text-muted">
                    Optionally type a player's Id here to make this game only accessible to that player.
                </small>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group col-12">
                <label for="difficulty">Difficulty</label>
            </div>

            <div class="col">
                <div class="row">
                    <div class="form-group col-12 col-lg" repeat.for="diff of selectableDifficulties">
                        <difficulty-selector difficulty.bind="diff" selected-difficulty.bind="selectedDifficulty">
                        </difficulty-selector>
                    </div>
                    <div class="form-group col-12 col-lg">
                        <difficulty-selector-custom difficulty.bind="customDifficulty"
                            selected-difficulty.bind="selectedDifficulty">
                        </difficulty-selector-custom>
                    </div>
                </div>
            </div>

        </div>

        <hr />

        <div class="row">
            <div class="col">
                <span if.bind="createdGameId" class="alert alert-success mr-5">
                    Your game has just been created!
                    <a class="btn btn-sm btn-success ml-3"
                        route-href="route: game; params.bind: { gameId: createdGameId }">
                        Go to game
                    </a>
                </span>
            </div>

            <div class="col text-right">
                <span class="alert">
                    <a class="btn btn-link" route-href="route: lobby">Back to lobby</a>

                    <button type="submit" class="btn btn-primary">Create</button>
                </span>
            </div>
        </div>

    </form>
</template>
